{% extends 'common/navbar.html' %}
{% load static %}

{% block css %}

<link rel="stylesheet" type="text/css" href="{% static 'publicviewcontroller/css/home.css' %}"/>
<style>

</style>
{% endblock %}

{% block onloadjs %}
var carousel = document.getElementById('carousel');
carousel.style.backgroundImage = "url({{ first_image }})";
{% endblock %}

{% block js %}

<script type="text/javascript">

    var images = [{% for image in images %}"{{ image }}", {% endfor %}];
    var position = 0;

    function nextImage() {
        position += 1;
        if (position == images.length) {
            position = 0;
        }
        let carousel = document.getElementById('carousel');
        carousel.style.backgroundImage = "url(" + images[position] + ")";
    }

    function prevImage() {
        position -= 1;
        if (position == -1) {
            position = images.length - 1;
        }
                let carousel = document.getElementById('carousel');
        carousel.style.backgroundImage = "url(" + images[position] + ")";
    }

    function toggleMembers() {
        let expansion = document.getElementById('member-expansion');
        let button = document.getElementById('toggle-members-list');

        if (button.textContent === 'Show more') {
            expansion.style.display = 'inherit';
            button.textContent = 'Show less'
        } else {
            expansion.style.display = 'none';
            button.textContent = 'Show more'
        }
    }

</script>

{% endblock %}

{% block body %}

<div class="container-fluid">
    <!-- Image Carousel and Description -->
    <div class="row" id="first-row">
        <!-- Image Carousel -->
        <div class="col-12 col-lg-6">
            <div id="carousel">
                <a id="prevImage" onclick="prevImage();"><img src="{% static 'publicviewcontroller/img/previous.png' %}"/></a>
                <a id="nextImage" onclick="nextImage();"><img src="{% static 'publicviewcontroller/img/next.png' %}"/></a>
            </div>
        </div>

        <!-- Description -->
        <div class="col-12 col-lg-6">
            <div id="info">
                <span class="accent">K</span>averi <span class="accent">Y</span>outh <span class="accent">C</span>ommittee is the youth wing of Kaveri Kannada Accociation. We are an non-profit that serves the community in the DC, Maryland, and Virginia area and abroad. Over the years KYC has raised money for medical assistance in rural areas of India. We meet 5-6 times a year to raise money through different fundraising and community service activities. We hold cloth drives, book sales, and bake sales to raise money for India. We also give back to our local community with activities like landscaping, food packing, and visiting local senior centers. Our mission is to learn our culture, connect people, and give back to our community.
                <br/>
            </div>
        </div>

    </div>

    <div class="row" id="second-row">
        <!-- Member Information -->
        <div class="col-lg-3 sidebar-column">
            <div class="sidebar-div">
                <div class="sidebar-title"> Members </div>
                <hr/>
                <div>
                    {% for position, member in member_summary %}
                    {{ position }}: {{ member }}<br/>
                    {% endfor %}
                </div>
                {% if has_expansion %}
                <div id="member-expansion">
                    {% for position, member in member_expand %}
                    {{ position }}: {{ member }}<br/>
                    {% endfor %}
                </div>
                <span onclick="toggleMembers()" id="toggle-members-list">Show more</span>
                {% endif %}
            </div>
        </div>

        <!-- Recent Projects -->
        <!-- TODO: design projects section -->
        <div class="col-lg-6">
        </div>

        <!-- Contact Information -->
        <div class="col-lg-3 sidebar-column">
            <div class="sidebar-div">
                <div class="sidebar-title"> Contact Us </div>
                <hr/>
            </div>
        </div>
    </div>

</div>

{% endblock %}
